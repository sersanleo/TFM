<div layout:decorate="~{fragments/layout}">
    <div layout:fragment="content">
        <div class="row g-3 justify-content-center align-items-center">
            <div class="col-12 col-lg-7">
                <form class="card shadow" method="post" th:object="${appointment}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="form-floating">
                                    <select th:field="*{pet}" class="form-select"
                                        th:classappend="${#fields.hasErrors('pet')} ? 'is-invalid' : ''"
                                        placeholder="Mascota" required id="pet">
                                        <option value="">---------</option>
                                        <option th:each="opt : ${pets}" th:value="${opt.getId()}" th:text="${opt}">
                                    </select>
                                    <label for="pet">Mascota</label>
                                </div>
                                <ul class="invalid-feedback d-block" th:if="${#fields.hasErrors('pet')}">
                                    <li th:each="err : ${#fields.errors('pet')}" th:text="${err}" />
                                </ul>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <select th:field="*{vet}" class="form-select"
                                        th:classappend="${#fields.hasErrors('vet')} ? 'is-invalid' : ''"
                                        placeholder="Veterinario" required id="vet">
                                        <option value="">---------</option>
                                        <option th:each="opt : ${vets}" th:value="${opt.getId()}" th:text="${opt}">
                                    </select>
                                    <label for="vet">Veterinario</label>
                                </div>
                                <ul class="invalid-feedback d-block" th:if="${#fields.hasErrors('vet')}">
                                    <li th:each="err : ${#fields.errors('vet')}" th:text="${err}" />
                                </ul>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <input type="datetime-local" th:field="*{date}" class="form-control"
                                        th:classappend="${#fields.hasErrors('date')} ? 'is-invalid' : ''"
                                        placeholder="Fecha y hora" required id="date">
                                    <label for="date">Fecha y hora</label>
                                </div>
                                <ul class="invalid-feedback d-block" th:if="${#fields.hasErrors('date')}">
                                    <li th:each="err : ${#fields.errors('date')}" th:text="${err}" />
                                </ul>
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    <textarea th:field="*{annotations}" cols="40" rows="10" style="height:7rem"
                                        class="form-control"
                                        th:classappend="${#fields.hasErrors('annotations')} ? 'is-invalid' : ''"
                                        placeholder="Anotaciones" id="annotations"></textarea>
                                    <label for="annotations">Anotaciones</label>
                                </div>
                                <ul class="invalid-feedback d-block" th:if="${#fields.hasErrors('annotations')}">
                                    <li th:each="err : ${#fields.errors('annotations')}" th:text="${err}" />
                                </ul>
                            </div>
                            <div class="col-12 d-grid">
                                <input type="submit" class="btn btn-primary btn-lg" value="Guardar cambios" />
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>